generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Project {
  id                  Int         @id @default(autoincrement())
  title               String
  slug                String      @unique
  description         String?     @db.Text
  minPrice            Float
  maxPrice            Float
  minArea             Float
  maxArea             Float
  location            String?
  type                String?
  developer           String?
  furnished           String
  newLaunch           Boolean     @default(false)
  unitTypes           UnitType[]
  images              Image[]
  createdAt           DateTime    @default(now())
  cheapestPrice       Float?
  mostExpensivePrice  Float?
}

model UnitType {
  id        Int      @id @default(autoincrement())
  bedrooms  Int
  minPrice  Float
  maxPrice  Float
  price     Float?
  minArea   Float
  maxArea   Float
  projectId Int
  project   Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)
}

model Image {
  id        Int      @id @default(autoincrement())
  url       String
  projectId Int
  project   Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)
}

model Admin {
  id       Int    @id @default(autoincrement())
  username String @unique
  password String
}
